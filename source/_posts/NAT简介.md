---
title: NAT简介
date: 2022-10-12 20:15:00
tags: 
- network
- nat
categories:
- network
- nat
---

NAT 的相关知识

<!--more-->

NAT（Network Address Translator，网络地址转换）是用于在本地网络中使用私有地址，在连接互联网时转而使用全局 IP 地址的技术。NAT实际上是为解决IPv4地址短缺而开发的技术。

即私有地址转换为公有地址（加端口）。

NAT 的特点：
- NAT 存在于私网到公网的路由出口位置，双向流量都必须经过 NAT 网关。
- 网络访问只能由私网向公网发起，公网无法访问私网。
- NAT 需要维护一张关联表，保存会话信息，从而实现翻译功能。

NAT 的类型：
- 静态 NAT。一对一绑定转换。
- 动态 NAT。从空闲的地址池中选择一个进行转换。
- 端口复用 NATP。当私网内主机数量太多时，面临端口数量不足从而无法翻译的问题，此时，需要根据传输层或者其他上层协议去区分不同的会话，比如 TCP、UDP 端口号，从而实现公网 ip 的复用和解复用，

NAT 的缺点：
- 一旦 NAT 路由器重启，所有的 TCP 连接都会被重置断开。
- 关联表的生成和转换操作会产生一定的开销。
- 无法从 NAT 外部向内部服务器建立连接。

参考：
- [详解什么是NAT？](https://blog.csdn.net/yingshuanglu2564/article/details/111830114)